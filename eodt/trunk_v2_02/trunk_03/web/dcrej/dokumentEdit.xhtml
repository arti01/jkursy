<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns:ui="http://java.sun.com/jsf/facelets" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:a4j="http://richfaces.org/a4j">

                <h:panelGrid columns="3" id="dodajGrid">
                    <h:outputLabel for="nameD" value="nazwa: "/>
                    <h:inputText id="nameD" value="#{RejestracjaRej.obiekt.nazwa}"  size="90" ><rich:validator/></h:inputText>
                    <rich:message for="nameD" styleClass="error" />

                    <h:outputLabel for="opisD" value="opis: "/>
                    <h:inputTextarea id="opisD" value="#{RejestracjaRej.obiekt.opis}"  cols="90" ><rich:validator/></h:inputTextarea>
                    <rich:message for="opisD" styleClass="error" />

                    <h:outputLabel for="dataD" value="Data dokumentu:"/>
                    <rich:calendar value="#{RejestracjaRej.obiekt.dataDok}" id="dataD" locale="#{UrlopM.locale}"
                                   popup="true" datePattern="yyyy-MM-dd"
                                   showApplyButton="#{calendarBean.showApply}" style="width:200px">
                        <rich:validator /></rich:calendar>
                    <rich:message for="dataD" styleClass="error" />

                    <h:outputLabel for="rodzajD" value="rodzaj: "/>
                    <h:selectOneMenu id="rodzajD" value="#{RejestracjaRej.obiekt.rodzajId}" converter="#{DcRodzajConv}" >
                        <f:selectItems value="#{RodzajeCfg.lista}" var="rodzaj" itemValue="#{rodzaj}" itemLabel="#{rodzaj.nazwa}"/>
                    </h:selectOneMenu>
                    <rich:message for="rodzajD" styleClass="error" />

                    <h:outputLabel for="zrodloD" value="źródło: "/>
                    <h:selectOneMenu id="zrodloD" value="#{RejestracjaRej.obiekt.zrodloId}" converter="#{DcZrodloConv}" >
                        <f:selectItems value="#{ZrodlaCfg.lista}" var="zrodlo" itemValue="#{zrodlo}" itemLabel="#{zrodlo.nazwa}"/>
                    </h:selectOneMenu>
                    <rich:message for="zrodloD" styleClass="error" />

                    <h:outputLabel for="projektD" value="projekt: "/>
                    <h:selectOneMenu id="projektD" value="#{RejestracjaRej.obiekt.projektId}" converter="#{DcProjektConv}" >
                        <f:selectItems value="#{ProjektyCfg.lista}" var="projekt" itemValue="#{projekt}" itemLabel="#{projekt.nazwa}"/>
                    </h:selectOneMenu>
                    <rich:message for="projektD" styleClass="error" />
                    
                    <h:outputLabel for="kontrahentD" value="podaj kontrahenta (wprowadz min. 3 znaki)"/>
                    <rich:autocomplete id="kontrahentD" value="#{RejestracjaRej.obiekt.kontrahentId}" mode="lazyClient"
                                       minChars="3" fetchValue="#{kontrahent.nazwa}" converter="#{DcKontrahenciConv}"
                                       var="kontrahent" autocompleteList="#{KontrahenciCfg.lista.wrappedData}">
                            #{kontrahent.nazwa}
                            #{kontrahent.adres}
                        </rich:autocomplete>
                        <rich:message for="kontrahentD" styleClass="error" />

                    <h:outputLabel for="opisDlugiD" value=" "/>
                    <rich:collapsiblePanel header="dodatkowy opis  (po modyfikacji naciśnij przycisk ZAPISZ na dole strony)" expanded="false" switchType="client" >
                        <rich:editor id="opisDlugiD" toolbar="full" value="#{RejestracjaRej.obiekt.opisDlugi}" style="margin-bottom: 1em" rendered="#{RejestracjaRej.obiekt.dokStatusId.id==1 or RejestracjaRej.obiekt.dokStatusId.id==null}"/>
                        <h:outputText value="#{RejestracjaRej.obiekt.opisDlugi}" escape="false" rendered="#{RejestracjaRej.obiekt.dokStatusId.id!=1}"/>
                    </rich:collapsiblePanel>
                    <rich:message for="opisDlugiD" styleClass="error" />
                    
                </h:panelGrid>
                <rich:message for="zapisz" styleClass="error" />
                <rich:message for="dodaj" styleClass="error" />
        <hr/>
</html>

