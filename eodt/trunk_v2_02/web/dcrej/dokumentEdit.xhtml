<?xml version='1.0' encoding='UTF-8' ?>
<html  
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

    <h:panelGrid columns="3" id="dodajGrid">
        <h:outputLabel for="nameD" value="nazwa: "/>
        <h:inputText id="nameD" value="#{RejestracjaRej.obiekt.nazwa}"  size="100" ><rich:validator/></h:inputText>
        <rich:message for="nameD" styleClass="error" />
        
        <h:outputLabel for="symbolD" value="symbol: " rendered="#{RejestracjaRej.obiekt.id ne null}"/>
        <h:inputText id="symbolD" value="#{RejestracjaRej.obiekt.symbolDok}"  size="25" readonly="true" rendered="#{RejestracjaRej.obiekt.id ne null}"></h:inputText>
        <h:outputLabel for="symbolD" value="" rendered="#{RejestracjaRej.obiekt.id ne null}"/>
        
        <h:outputLabel for="opisD" value="opis: "/>
        <h:inputTextarea id="opisD" value="#{RejestracjaRej.obiekt.opis}"  cols="95" rows="5" ><rich:validator/></h:inputTextarea>
        <rich:message for="opisD" styleClass="error" />
    </h:panelGrid>
    
    <h:panelGrid columns="6" id="dodajGrid6">
        <h:outputLabel for="dataD" value="Data dokumentu:"/>
        <rich:calendar value="#{RejestracjaRej.obiekt.dataDok}" id="dataD" locale="#{RejestracjaRej.locale}"
                       popup="true" datePattern="yyyy-MM-dd"
                       showApplyButton="#{calendarBean.showApply}" style="width:200px">
            <rich:validator /></rich:calendar>
        <rich:message for="dataD" styleClass="error" />

        <h:outputLabel for="rodzajD" value="rodzaj: "/>
        <h:selectOneMenu id="rodzajD" value="#{RejestracjaRej.obiekt.rodzajId}" converter="#{DcRodzajConv}" >
            <f:selectItems value="#{RodzajeCfg.lista}" var="rodzaj" itemValue="#{rodzaj}" itemLabel="#{rodzaj.nazwa}"/>
        </h:selectOneMenu>
        <rich:message for="rodzajD" styleClass="error" />

        <h:outputLabel for="zrodloD" value="źródło: "/>
        <h:selectOneMenu id="zrodloD" value="#{RejestracjaRej.obiekt.zrodloId}" converter="#{DcZrodloConv}" >
            <f:selectItems value="#{ZrodlaCfg.lista}" var="zrodlo" itemValue="#{zrodlo}" itemLabel="#{zrodlo.nazwa}"/>
        </h:selectOneMenu>
        <rich:message for="zrodloD" styleClass="error" />

        <h:outputLabel for="projektD" value="projekt: "/>
        <h:selectOneMenu id="projektD" value="#{RejestracjaRej.obiekt.projektId}" converter="#{DcProjektConv}" >
            <f:selectItems value="#{ProjektyCfg.lista}" var="projekt" itemValue="#{projekt}" itemLabel="#{projekt.nazwa}"/>
        </h:selectOneMenu>
        <rich:message for="projektD" styleClass="error" />

        <h:outputLabel for="kontrahentD" value="podaj kontrahenta &lt;br/&gt;(wprowadz min. 3 znaki)" escape="false"/>
        <rich:autocomplete id="kontrahentD" value="#{RejestracjaRej.obiekt.kontrahentId}" mode="lazyClient"
                           minChars="3" fetchValue="#{kontrahent.nazwa}" converter="#{DcKontrahenciConv}"
                           var="kontrahent" autocompleteList="#{KontrahenciCfg.lista.wrappedData}">
            #{kontrahent.nazwa}
            #{kontrahent.adres}
        </rich:autocomplete>
        <rich:message for="kontrahentD" styleClass="error" />
    </h:panelGrid>
    
    <hr style="width: 30%;"/>
    <rich:collapsiblePanel header="dodatkowy opis  (po modyfikacji naciśnij przycisk ZAPISZ na górze lub dole strony)" expanded="false" switchType="client" >
        <rich:editor id="opisDlugiD" toolbar="full" value="#{RejestracjaRej.obiekt.opisDlugi}" style="margin-bottom: 1em" rendered="#{RejestracjaRej.obiekt.dokStatusId.id==1 or RejestracjaRej.obiekt.dokStatusId.id==null}"/>
        <h:outputText value="#{RejestracjaRej.obiekt.opisDlugi}" escape="false" rendered="#{RejestracjaRej.obiekt.dokStatusId.id!=1}"/>
    </rich:collapsiblePanel>
    <rich:message for="opisDlugiD" styleClass="error" />

    <rich:message for="zapisz" styleClass="error" />
    <rich:message for="dodaj" styleClass="error" />
    <hr/>
</html>