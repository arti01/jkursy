<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" 
                xmlns="http://www.w3.org/1999/xhtml"
                template="/templates/template.xhtml"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:h="http://java.sun.com/jsf/html">
    <ui:define name="content">
        <a4j:status onstart="#{rich:component('statPane')}.show()" onstop="#{rich:component('statPane')}.hide()" />
        <a4j:jsFunction name="remove" action="#{ZajetoscArch.usun}" render="table" execute="@this"
                            oncomplete="#{rich:component('confirmPane')}.hide();" />
        <h3>Obsługa zajętości archiwów</h3>
        <ui:include src="/dcarch/listZajetoscArchInc.xhtml">
            <ui:param name="managedArch" value="#{ZajetoscArch}"/>
        </ui:include>
        <rich:popupPanel id="confirmPane" autosized="true">
            Na pewno chcesz skasować?
            <a4j:commandButton value="Nie" onclick="#{rich:component('confirmPane')}.hide();
                        return false;" />
            <a4j:commandButton value="Tak" onclick="remove();
                        return false;" />
        </rich:popupPanel>
        <rich:popupPanel id="statPane" autosized="true">
            <h:graphicImage value="/images/ai.gif" alt="ai" />
            Proszę czekać
        </rich:popupPanel>
    </ui:define>
</ui:composition>

