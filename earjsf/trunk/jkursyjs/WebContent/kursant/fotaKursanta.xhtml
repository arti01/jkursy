<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/templates/templatekursant.xhtml">
	<ui:define name="body">
		<div id="right">

			<rich:dataTable value="#{kursantLekcjaAc.listaFot}" var="fota" id="table" rows="1"
				first="#{kursantLekcjaAc.nrstrony-1}">
				<h:column>
					<h:panelGrid columns="1">
						<a4j:mediaOutput element="img" createContent="#{kursantLekcjaAc.paintDuza}"
							value="#{fota.idlekcjafotykursant}" cacheable="false">
						</a4j:mediaOutput>
						<h:outputText value="autor: #{fota.user.imieNazwisko}" />
						<h:outputText value="dodana: #{fota.datadodaniaS}">
							<f:convertDateTime pattern="dd-MM-yyyy" />
						</h:outputText>
						<h:outputText value="opis: #{fota.opis}" />
					</h:panelGrid>
				</h:column>
			</rich:dataTable>
			<h:form id="sterowanie">
				<h:commandLink value="powrót do zdjęć" action="#{kursantLekcjaAc.fotyForm}" />
				<br />
				<a4j:commandLink value="poprzedna" action="#{kursantLekcjaAc.prevFotaKursant}"
					render="table, komentarze, sterowanie" rendered="#{kursantLekcjaAc.prev}">
				</a4j:commandLink>
				<h:outputText value="#{kursantLekcjaAc.nrstrony}" />/<h:outputText
					value="#{kursantLekcjaAc.listaFot.size()}" />
				<a4j:commandLink value="nastepna" action="#{kursantLekcjaAc.nextFotaKursant}"
					render="table, komentarze, sterowanie" rendered="#{kursantLekcjaAc.next}">
				</a4j:commandLink>
			</h:form>
			<h:form>
				<h5>dyskusja o focie</h5>
				<h:form>
					<h:panelGrid columns="3" id="wpis">
						<h:message for="tresc" />
						<h:outputLabel for="tresc" value="treść" />
						<h:inputTextarea id="tresc" value="#{kursantLekcjaAc.komentarzFota.tresc}" cols="100" />
						<h:message for="dowykladowcy" />
						<h:outputLabel for="dowykladowcy" value="wyślij do wykładowcy" />
						<h:selectBooleanCheckbox id="dowykladowcy" value="#{kursantLekcjaAc.komentarzFota.dowykladowcy}" />
						<a4j:commandButton value="dodaj komentarz" action="#{kursantLekcjaAc.dodajKomentarzFota}"
							render="komentarze, wpis" />
					</h:panelGrid>
				</h:form>
				<h:panelGroup id="komentarze">
					<ui:repeat var="koment" value="#{kursantLekcjaAc.fotaKursant.fotykursantkoment}">
						<h5>
							<h:outputText value="autor: #{koment.user.imieNazwisko}, " />
							<h:outputText value="(komentuje wykładowca) " rendered="#{koment.komentWykl}" />
							<h:outputText value="to pytanie czeka na odpowiedź wykładowcy" rendered="#{koment.dowykladowcy}" />
							<br />
							<h:outputText value="dodany: #{koment.datadodaniaS}" />
						</h5>
						<h:outputText value="#{koment.tresc}" />
						<hr />
					</ui:repeat>
				</h:panelGroup>
			</h:form>
		</div>
	</ui:define>
</ui:composition>
</html>