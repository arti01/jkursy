<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich">
<ui:composition template="/templates/template.xhtml">
	<ui:define name="body">
	<div>
	<h:panelGroup id="uploadpg" rendered="#{adminNewsyAc.news.tytul!=null}">
				<h:form>
					<rich:fileUpload fileUploadListener="#{userAc.listenerFoty}" id="upload" style="height: 100px; weight: 170px;">
						<a4j:ajax event="uploadcomplete" execute="@none" render="uploadpg, fota" />
					</rich:fileUpload>
				</h:form>
	</h:panelGroup>
	<h:panelGroup id="fota">
	<h:outputText value="#{userAc.loginBean.zalogowany.fota}"/>
	<h:form>
	<a4j:mediaOutput element="img" createContent="#{userAc.paintFota}" value="#{userAc.loginBean.zalogowany.username}"
						cacheable="false" rendered="#{userAc.loginBean.zalogowany.fota!=null}"/>
	<h:commandLink value="usuń fotę" action="#{userAc.usunFote}"/>
	</h:form>
	</h:panelGroup>
	</div>
	<hr/>
	<br/>
		<h:form>
			<h:panelGroup>
			Pola oznaczone (*) są wymagane
				<h:panelGrid columns="4">
					<h:outputLabel for="bledy" />
					<h:outputLabel for="bledy" />
					<h:outputText id="bledy" value="#{kursantKursyAc.errorText}" styleClass="error" />
					<h:outputLabel for="bledy" />

					<h:message for="username" styleClass="error" />
					<h:outputLabel value="login" />
					<h:inputText id="username" value="#{kursantIndexAc.user.username}" size="50"
						readonly="#{kursantIndexAc.user.username!=null}" immediate="true" />
					<h:outputLabel value="*" />

					<h:message for="takNie" styleClass="error" />
					<h:outputLabel for="takNie" value="czy chcesz zmienić hasło?" />
					<h:selectBooleanCheckbox value="#{kursantIndexAc.takNie}" id="takNie">
						<a4j:ajax event="change" execute="@this" render="haslo" />
					</h:selectBooleanCheckbox>
				</h:panelGrid>
				<h:panelGrid columns="4" id="haslo">
					<h:message for="userpass" styleClass="error" rendered="#{kursantIndexAc.takNie}" />
					<h:outputLabel value="hasło" rendered="#{kursantIndexAc.takNie}" />
					<h:inputSecret id="userpass" value="#{kursantIndexAc.user.userpass}" immediate="true" size="50"
						rendered="#{kursantIndexAc.takNie}" />
					<h:outputLabel value="*" rendered="#{kursantIndexAc.takNie}" />

					<h:message for="userpass1" styleClass="error" rendered="#{kursantIndexAc.takNie}" />
					<h:outputLabel value="hasło ponownie" rendered="#{kursantIndexAc.takNie}" />
					<h:inputSecret id="userpass1" value="#{kursantIndexAc.userpass1}" immediate="true" size="50"
						rendered="#{kursantIndexAc.takNie}" />
					<h:outputLabel value="*" rendered="#{kursantIndexAc.takNie}" />
				</h:panelGrid>
				<h:panelGrid columns="4">
					<h:message for="imieNazwisko" styleClass="error" />
					<h:outputLabel value="imie i nazwisko" />
					<h:inputText id="imieNazwisko" value="#{kursantIndexAc.user.imieNazwisko}" immediate="true" size="50" />
					<h:outputLabel value="*" />

					<h:message for="email" styleClass="error" />
					<h:outputLabel value="email" />
					<h:inputText id="email" value="#{kursantIndexAc.user.email}" immediate="true" size="50" />
					<h:outputLabel value="*" />

					<h:message for="miasto" styleClass="error" />
					<h:outputLabel value="miasto" />
					<h:inputText id="miasto" value="#{kursantIndexAc.user.miasto}" immediate="true" size="50" />
					<h:outputLabel value="" />

					<h:message for="kodpocztowy" styleClass="error" />
					<h:outputLabel value="kod pocztowy" />
					<h:inputText id="kodpocztowy" value="#{kursantIndexAc.user.kodpocztowy}" immediate="true" size="10" />
					<h:outputLabel value="" />

					<h:message for="ulica" styleClass="error" />
					<h:outputLabel value="ulica, nr domu/mieszkanie" />
					<h:inputText id="ulica" value="#{kursantIndexAc.user.ulica}" immediate="true" size="50" />
					<h:outputLabel value="" />

					<h:message for="nip" styleClass="error" />
					<h:outputLabel value="nip" />
					<h:inputText id="nip" value="#{kursantIndexAc.user.nip}" immediate="true" size="50" />
					<h:outputLabel value="" />

					<h:message for="tel1" styleClass="error" />
					<h:outputLabel value="telefon" />
					<h:inputText id="tel1" value="#{kursantIndexAc.user.tel1}" immediate="true" size="50" />
					<h:outputLabel value="" />
				</h:panelGrid>
				
				<h:message for="opis" styleClass="error" />
				<h:outputLabel value="o mnie" />
				<h:inputTextarea id="opis" value="#{kursantIndexAc.user.opis}" immediate="true" cols="48" />
				<h:outputLabel value="" />
					
				<h:commandButton value="wyślij" action="#{kursantIndexAc.edytujProfil}" />
			</h:panelGroup>
		</h:form>
		<script type="text/javascript">
			tinyMCE
					.init({
						// General options
						mode : "textareas",
						theme : "advanced",
						plugins : "safari,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",

						// Theme options
						theme_advanced_buttons1 : "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
						theme_advanced_buttons2 : "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
						theme_advanced_buttons3 : "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
						theme_advanced_buttons4 : "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage",
						theme_advanced_toolbar_location : "top",
						theme_advanced_toolbar_align : "left",
						theme_advanced_statusbar_location : "bottom",
						theme_advanced_resizing : true,

						// Example content CSS (should be your site CSS)
						content_css : "../burned/default.css",

						// Drop lists for link/image/media/template dialogs
						template_external_list_url : "js/template_list.js",
						external_link_list_url : "js/link_list.js",
						external_image_list_url : "js/image_list.js",
						media_external_list_url : "js/media_list.js",

						// Replace values for the template plugin
						template_replace_values : {
							username : "Some User",
							staffid : "991234"
						}
					});
		</script>
	</ui:define>
</ui:composition>
</html>
