<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/templates/templatewyklad.xhtml">
	<ui:define name="body">
		<h3><h:outputText value="#{wykladKursyAc.lekcja.tytul}"/></h3>
		<h4>numer kolejny lekcji:<h:outputText value="#{wykladKursyAc.lekcja.lp}"/></h4>
		
		<h:form>
		<ui:repeat value="#{wykladKursyAc.lekcja.lekcjaplikis}" var="plik">
		<h:panelGrid columns="2">
			<h:outputText value="#{plik.opis}"/>
			<h:commandButton value="pobierz plik"
						action="#{wykladPlikUploadBean.download}">
						<f:setPropertyActionListener target="#{wykladPlikUploadBean.plik}"
							value="#{plik}" />
					</h:commandButton>
		</h:panelGrid>
		</ui:repeat>
		</h:form>
		
		<h:outputText value="#{wykladKursyAc.lekcja.tresc}" escape="false"/>
		
		<ui:repeat value="#{wykladKursyAc.lekcja.lekcjafoties}" var="fota">
		<h:panelGrid columns="1">
			<a4j:mediaOutput element="img"
				createContent="#{wykladImageUploadBean.paintBazyDuze}"
				value="#{fota.idlekcjafoty}" cacheable="false">
				<f:param value="#{wykladImageUploadBean.timeStamp}" name="time" />
			</a4j:mediaOutput>
			<h:outputText value="#{fota.opis}"/>
		</h:panelGrid>
		<h:panelGroup>
			<rich:panelMenu>
			<rich:panelMenuGroup label="EXIF" >
			<rich:panelMenuItem >
				<h:outputText value="#{fota.exif}" escape="false"/>
			</rich:panelMenuItem>
			 </rich:panelMenuGroup>
			 </rich:panelMenu>
			 </h:panelGroup>
		</ui:repeat>
		</ui:define>
</ui:composition>

</html>