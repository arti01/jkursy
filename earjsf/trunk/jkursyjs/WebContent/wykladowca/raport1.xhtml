<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/templates/templatewyklad.xhtml">
	<ui:define name="body">

		<ul>
			<ui:repeat var="kurs" value="#{login.zalogowany.kursies}">
				<h:panelGroup rendered="#{kurs.lekcjas.size()!=0}">
					<li>
						<hr size="3" /> kurs:<h:outputText value="#{kurs.nazwa}" />
						<ul>
							<ui:repeat var="lekcja" value="#{kurs.lekcjas}">
								<h:panelGroup rendered="#{lekcja.fotyKursNieSkoment.size()!=0}">
									<li>
										<hr size="-1" /> lekcja:<h:outputText value="#{lekcja.tytul}" /> <h:form>
											<a4j:repeat var="fota" value="#{lekcja.fotyKursNieSkoment}" rowKeyVar="nrstrony">
												<h:panelGrid columns="3">
													<h:outputText value="autor: #{fota.user.imieNazwisko}" />
													<h:outputText value="dodana: #{fota.datadodaniaS}">
														<f:convertDateTime pattern="dd-MM-yyyy" />
													</h:outputText>
													<h:commandLink action="#{kursantLekcjaAc.fotaKursant}">
														<f:setPropertyActionListener target="#{kursantLekcjaAc.nrstrony}" value="#{nrstrony+1}" />
														<f:setPropertyActionListener target="#{kursantLekcjaAc.fotaKursant}" value="#{fota}" />
														<f:setPropertyActionListener target="#{kursantLekcjaAc.listaFot}"
															value="#{lekcja.fotyKursNieSkoment}" />
														<f:setPropertyActionListener target="#{wykladKursyAc.fotyKursantow}" value="#{lekcja.fotyKursNieSkoment}"/>
														<a4j:mediaOutput element="img" createContent="#{kursantLekcjaAc.paintBazy}"
															value="#{fota.idlekcjafotykursant}" cacheable="false">
														</a4j:mediaOutput>
													</h:commandLink>
												</h:panelGrid>
											</a4j:repeat>
										</h:form></li>
								</h:panelGroup>
							</ui:repeat>
						</ul>
					</li>
				</h:panelGroup>
			</ui:repeat>
		</ul>

	</ui:define>
</ui:composition>
</html>