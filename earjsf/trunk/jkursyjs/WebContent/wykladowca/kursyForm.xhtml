<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
	<ui:composition template="/templates/templatewyklad.xhtml">
		<ui:define name="body">
<h:body>
kursy detale:)
<br/>
nazwa:
<h2><h:outputText value="#{wykladKursyAc.kurs.nazwa}"/></h2>
krótki opis:
<h3><h:outputText value="#{wykladKursyAc.kurs.opisKrotki}"/></h3>
<p>
od:<h:outputText value="#{wykladKursyAc.kurs.dataod}"><f:convertDateTime type="date"/> </h:outputText>
do:<h:outputText value="#{wykladKursyAc.kurs.datado}"><f:convertDateTime type="date"/> </h:outputText>
</p>
<h:form>
	<h:commandButton value="dodaj nową lekcję" action="#{wykladKursyAc.lekcjaFormNew}"/>
</h:form>
<h2><h:outputText value="#{wykladKursyAc.errorText}"  styleClass="error"/></h2>
<ul>
<h:form>
<h:dataTable var="lekcja" value="#{wykladKursyAc.lekcje}">
<h:column>
<f:facet name="header"><h:outputText value="lp"/></f:facet>
	<h:selectOneMenu value="#{lekcja.lp}" onchange="submit();" valueChangeListener="#{wykladKursyAc.zmienLekcjaLp}">
		<f:selectItems value="#{wykladKursyAc.kurs.lekcjeLpAll}"/>
	</h:selectOneMenu>
</h:column>
<h:column>
<f:facet name="header"><h:outputText value="tytuł (data zmiany)"/></f:facet>
	<h:commandLink action="#{wykladKursyAc.lekcjaForm}">
		<h:outputText value="#{lekcja.tytul} (#{lekcja.datazmiany})">
			<f:convertDateTime pattern="yyyy-MM-dd HH:mm"/>
		</h:outputText>
		<f:setPropertyActionListener target="#{wykladKursyAc.lekcja}" value="#{lekcja}"/>
	</h:commandLink>
	</h:column>
	<h:column>
		<h:commandLink value="usuń lekcję" action="#{wykladKursyAc.lekcjaUsun}">
			<f:setPropertyActionListener target="#{wykladKursyAc.lekcja}" value="#{lekcja}"/>
		</h:commandLink>
	</h:column>
	<h:column>
		<h:commandLink value="zdjęcia" action="#{wykladKursyAc.foty}">
			<f:setPropertyActionListener target="#{wykladKursyAc.lekcja}" value="#{lekcja}"/>
			<f:setPropertyActionListener target="#{wykladImageUploadBean.upload}" value="false"/>
		</h:commandLink>
	</h:column>
	<h:column>
		<h:commandLink value="podgląd lekcji" action="#{wykladKursyAc.lekcjaPodglad}">
			<f:setPropertyActionListener target="#{wykladKursyAc.lekcja}" value="#{lekcja}"/>
		</h:commandLink>
	</h:column>
</h:dataTable>
</h:form>
</ul>
</h:body>
</ui:define>
</ui:composition>
</html>